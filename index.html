<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Neon Snake Ultra</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: radial-gradient(circle at top, #020617, #000);
        font-family: Segoe UI, sans-serif;
        color: white;
    }

    .container {
        background: #020617;
        padding: 16px;
        border-radius: 20px;
        box-shadow: 0 0 70px rgba(34,211,238,0.45);
        position: relative;
    }

    .top {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        color: #67e8f9;
        font-weight: bold;
    }

    canvas {
        border-radius: 16px;
        background: #020617;
        box-shadow: inset 0 0 30px rgba(0,255,255,0.25);
    }

    .overlay {
        position: absolute;
        inset: 0;
        display: none;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        background: rgba(0,0,0,0.75);
        border-radius: 20px;
    }
</style>
</head>
<body>

<div class="container">
    <div class="top">
        <div>üêç Neon Snake</div>
        <div id="score">Score: 0</div>
    </div>

    <canvas id="game" width="360" height="360"></canvas>

    <div class="overlay" id="paused">
        <h2>Paused</h2>
        <p>Press SPACE</p>
    </div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const scoreEl = document.getElementById("score");
const pausedEl = document.getElementById("paused");

const size = 20;
let snake = [{x:180, y:180}];
let dir = {x:size, y:0};
let food = randomFood();
let score = 0;
let paused = false;

document.addEventListener("keydown", e => {
    if (e.code === "Space") {
        paused = !paused;
        pausedEl.style.display = paused ? "flex" : "none";
    }
    if (paused) return;

    if (e.key === "ArrowLeft" && dir.x === 0) dir = {x:-size, y:0};
    if (e.key === "ArrowRight" && dir.x === 0) dir = {x:size, y:0};
    if (e.key === "ArrowUp" && dir.y === 0) dir = {x:0, y:-size};
    if (e.key === "ArrowDown" && dir.y === 0) dir = {x:0, y:size};
});

function randomFood(){
    return {
        x: Math.floor(Math.random()*18)*size,
        y: Math.floor(Math.random()*18)*size
    };
}

function drawCircle(x,y,r,color,glow){
    ctx.beginPath();
    ctx.arc(x,y,r,0,Math.PI*2);
    ctx.fillStyle = color;
    ctx.shadowBlur = glow;
    ctx.shadowColor = color;
    ctx.fill();
    ctx.shadowBlur = 0;
}

function gameLoop(){
    if (paused) return;

    ctx.fillStyle = "#020617";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // food
    drawCircle(food.x+10, food.y+10, 8, "#facc15", 20);

    // move
    const head = {
        x: snake[0].x + dir.x,
        y: snake[0].y + dir.y
    };

    // üîÅ wrap around screen
    if (head.x < 0) head.x = canvas.width - size;
    if (head.x >= canvas.width) head.x = 0;
    if (head.y < 0) head.y = canvas.height - size;
    if (head.y >= canvas.height) head.y = 0;

    // self collision only
    if (snake.some(p => p.x === head.x && p.y === head.y)) {
        snake = [{x:180,y:180}];
        dir = {x:size,y:0};
        score = 0;
        scoreEl.textContent = "Score: 0";
        return;
    }

    snake.unshift(head);

    if (head.x === food.x && head.y === food.y) {
        score++;
        scoreEl.textContent = "Score: " + score;
        food = randomFood();
    } else {
        snake.pop();
    }

    // draw snake (smooth & rounded)
    snake.forEach((p,i)=>{
        const radius = i === 0 ? 10 : Math.max(4, 9 - i*0.15);
        const color = i === 0 ? "#22d3ee" : "#38bdf8";
        drawCircle(p.x+10, p.y+10, radius, color, i===0?25:10);
    });
}

setInterval(gameLoop, 90);
</script>

</body>
</html>
